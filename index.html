<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏∞</title>
<style>
  body {
    font-family: "Consolas", monospace;
    background: linear-gradient(135deg, #1e1e2f, #2a2a40);
    color: #e0e0e0;
    margin: 0;
    padding: 0;
  }

  nav {
    background: #111;
    padding: 12px;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 100;
  }
  nav a {
    color: #00bcd4;
    text-decoration: none;
    margin: 0 15px;
    font-weight: bold;
    transition: 0.3s;
  }
  nav a:hover {
    color: #ff9800;
    text-shadow: 0px 0px 5px #ff9800;
  }

  h1 {
    color: #00bcd4;
    text-shadow: 0px 0px 10px #00bcd4;
    text-align: center;
    margin-top: 20px;
  }

  h2 {
    color: #ff9800;
    text-align: center;
  }

  .qr-center {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px auto;
  }
  .qr-box {
    background: #2d2d3a;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0px 0px 15px rgba(0,255,255,0.3);
    text-align: center;
  }
  img {
    width: 200px;
    margin-top: 10px;
    border: 3px solid #00bcd4;
    border-radius: 10px;
  }

  table {
    margin: 20px auto;
    border-collapse: collapse;
    width: 90%;
    background: #2d2d3a;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0px 0px 10px rgba(255,255,255,0.1);
  }

  th, td {
    padding: 12px;
    border: 1px solid #444;
  }

  th {
    background: #00bcd4;
    color: black;
    text-transform: uppercase;
  }

  td {
    color: #e0e0e0;
  }

  .paid {
    background: #1b5e20;
    color: #a5d6a7;
    font-weight: bold;
  }

  .btn {
    padding: 6px 12px;
    background: #ff9800;
    color: black;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
    font-weight: bold;
  }

  .btn:hover {
    background: #e68900;
    transform: scale(1.1);
  }

  .notice {
    margin-top: 20px;
    font-size: 18px;
    color: #ff4444;
    font-weight: bold;
    text-align: center;
    text-shadow: 0px 0px 5px #ff0000;
  }

  .form-box {
    margin: 20px auto;
    padding: 15px;
    width: 80%;
    background: #2d2d3a;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0,255,255,0.2);
    text-align: center;
  }

  input {
    padding: 8px;
    margin: 5px;
    border-radius: 6px;
    border: none;
    outline: none;
    font-family: Consolas, monospace;
  }

  #total {
    font-size: 20px;
    margin-top: 15px;
    color: #00e676;
    font-weight: bold;
    text-align: center;
    text-shadow: 0px 0px 8px #00ff99;
  }

  #friendCount {
    text-align: center;
    margin-top: 10px;
    font-size: 18px;
    color: #ffeb3b;
    font-weight: bold;
  }

  #notes {
    margin: 30px auto;
    width: 80%;
    padding: 20px;
    background: #2d2d3a;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(255,255,255,0.2);
  }
  textarea {
    width: 100%;
    height: 200px;
    border-radius: 8px;
    border: none;
    padding: 10px;
    font-size: 16px;
    font-family: Consolas, monospace;
    outline: none;
    resize: none;
  }
  .subject-box {
  margin: 20px auto;
  padding: 15px;
  width: 80%;
  background: #2d2d3a;
  border-radius: 10px;
  box-shadow: 0px 0px 10px rgba(255,255,255,0.2);
}

.subject-box input {
  width: 100%;
  padding: 6px;
  margin-bottom: 10px;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  font-family: Consolas, monospace;
  outline: none;
  background: #444;
  color: #fff;
}

.subject-box h3 {
  margin-bottom: 10px;
  color: #ffeb3b;
}

textarea {
  width: 100%;
  height: 150px;
  border-radius: 8px;
  border: none;
  padding: 10px;
  font-size: 16px;
  font-family: Consolas, monospace;
  outline: none;
  resize: none;
}

</style>
</head>
<body>

  <nav>
    <a href="#home">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
    <a href="#notes">üìù ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô</a>
  </nav>

  <section id="home">
    <h1>‚öôÔ∏è ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ß‡∏¥‡∏®‡∏ß‡∏∞</h1>
    <p style="text-align:center;">‡∏™‡πÅ‡∏Å‡∏ô‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏≤‡∏£‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</p>

    <div class="qr-center">
      <div class="qr-box">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=PromptPay" alt="QR Code">
        <p>‡∏ö‡∏±‡∏ç‡∏ä‡∏µ : 088-XXXX-XXX (PromptPay)</p>
      </div>
    </div>

    <div class="form-box">
      <h2>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</h2>
      <input type="text" id="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô">
      <input type="number" id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô">
      <button class="btn" onclick="addFriend()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
    </div>

    <h2>üìã ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô</h2>
    <div id="friendCount">üë• ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô: 0/42</div>

    <table id="friendTable">
      <tr>
        <th>‡∏ä‡∏∑‡πà‡∏≠</th>
        <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</th>
        <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
        <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
      </tr>
    </table>

    <div id="total">üí∞ ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 0 ‡∏ö‡∏≤‡∏ó</div>
    <div class="notice" id="reminder"></div>
  </section>

 <section id="notes">
  <h2>üìù ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤‡∏ï‡πà‡∏≤‡∏á ‡πÜ</h2>
  <button class="btn" onclick="addSubject()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡πÉ‡∏´‡∏°‡πà</button>

  <div id="subjectContainer"></div>
</section>

<script>
let subjectCount = 0;

// ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°
window.onload = function() {
  let data = localStorage.getItem("notesApp");
  if (data) {
    JSON.parse(data).forEach(sub => addSubject(sub.name, sub.note));
  } else {
    addSubject("üìò ‡∏ß‡∏¥‡∏ä‡∏≤ A");
    addSubject("üìó ‡∏ß‡∏¥‡∏ä‡∏≤ B");
    addSubject("üìô ‡∏ß‡∏¥‡∏ä‡∏≤ C");
  }
};

function addSubject(name = "‡∏ß‡∏¥‡∏ä‡∏≤‡πÉ‡∏´‡∏°‡πà", note = "") {
  subjectCount++;
  const container = document.getElementById("subjectContainer");

  const div = document.createElement("div");
  div.className = "subject-box";
  div.id = "subjectBox" + subjectCount;
  div.draggable = true;
  div.ondragstart = dragStart;
  div.ondragover = dragOver;
  div.ondrop = drop;

  div.innerHTML = `
    <input type="text" value="${name}" oninput="updateTitle(${subjectCount})">
    <h3 id="title${subjectCount}">${name}</h3>
    <textarea id="note${subjectCount}" oninput="saveData()">${note}</textarea>
    <button class="btn" onclick="removeSubject(${subjectCount})">‚ùå ‡∏•‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤</button>
  `;
  container.appendChild(div);

  saveData();
}

function updateTitle(num) {
  const input = document.querySelector("#subjectBox" + num + " input");
  document.getElementById("title" + num).innerText = input.value;
  saveData();
}

function removeSubject(num) {
  const div = document.getElementById("subjectBox" + num);
  div.remove();
  saveData();
}

function saveData() {
  const subjects = [];
  document.querySelectorAll(".subject-box").forEach(box => {
    const name = box.querySelector("input").value;
    const note = box.querySelector("textarea").value;
    subjects.push({ name, note });
  });
  localStorage.setItem("notesApp", JSON.stringify(subjects));
}

// --- Drag & Drop ---
let dragged;

function dragStart(e) {
  dragged = e.currentTarget;
}

function dragOver(e) {
  e.preventDefault(); // ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ drop ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ
}

function drop(e) {
  e.preventDefault();
  const container = document.getElementById("subjectContainer");
  if (dragged !== e.currentTarget) {
    let nodes = Array.from(container.children);
    let draggedIndex = nodes.indexOf(dragged);
    let targetIndex = nodes.indexOf(e.currentTarget);

    if (draggedIndex < targetIndex) {
      container.insertBefore(dragged, e.currentTarget.nextSibling);
    } else {
      container.insertBefore(dragged, e.currentTarget);
    }
  }
  saveData();
}
</script>


<script>
  let total = 0;
  let count = 0;
  const maxFriends = 42;

  function addFriend() {
    if (count >= maxFriends) {
      alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 42 ‡∏Ñ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô!");
      return;
    }

    const name = document.getElementById("name").value.trim();
    const amount = parseInt(document.getElementById("amount").value);

    if (!name || isNaN(amount) || amount <= 0) {
      alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      return;
    }

    const table = document.getElementById("friendTable");
    const row = table.insertRow();
    const cell1 = row.insertCell(0);
    const cell2 = row.insertCell(1);
    const cell3 = row.insertCell(2);
    const cell4 = row.insertCell(3);

    cell1.innerText = name;
    cell2.innerText = amount + " ‡∏ö‡∏≤‡∏ó";
    cell3.innerText = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÇ‡∏≠‡∏ô";
    cell3.id = "status" + table.rows.length;

    cell4.innerHTML = `<button class="btn" onclick="markPaid('status${table.rows.length}', '${name}')">‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß</button>`;

    total += amount;
    count++;
    document.getElementById("total").innerText = "üí∞ ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: " + total + " ‡∏ö‡∏≤‡∏ó";
    document.getElementById("friendCount").innerText = "üë• ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô: " + count + "/" + maxFriends;

    document.getElementById("name").value = "";
    document.getElementById("amount").value = "";
  }

  function markPaid(id, friendName) {
    const td = document.getElementById(id);
    td.innerText = `‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏î‡∏¢: ${friendName}`;
    td.classList.add("paid");
  }

  setTimeout(() => {
    document.getElementById("reminder").innerText =
      "‚è∞ ‡∏Ñ‡∏£‡∏ö 1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÇ‡∏≠‡∏ô‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡∏ô‡∏∞!";
    alert("‡∏Ñ‡∏£‡∏ö 1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÅ‡∏•‡πâ‡∏ß! ‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞");
  }, 604800000);
</script>

</body>
</html>
